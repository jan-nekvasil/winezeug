This is the same as example 2, but with the library moved to its own source directory.
